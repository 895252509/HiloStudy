/**
 * Hilo 1.1.2 for standalone
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
!function(e){e.Hilo||(e.Hilo={});var t=e.Hilo.Class,a=e.Hilo,i=e.Hilo.Renderer,r=t.create({Extends:i,constructor:function(e){r.superclass.constructor.call(this,e),this.context=this.canvas.getContext("2d")},renderType:"canvas",context:null,startDraw:function(e){return!!(e.visible&&e.alpha>0)&&(e===this.stage&&this.context.clearRect(0,0,e.width,e.height),e.blendMode!==this.blendMode&&(this.context.globalCompositeOperation=this.blendMode=e.blendMode),this.context.save(),!0)},draw:function(e){var t=this.context,a=e.width,i=e.height,r=e.background;r&&(t.fillStyle=r,t.fillRect(0,0,a,i));var s=e.drawable,n=s&&s.image;if(n){var l=s.rect,c=l[2],o=l[3],h=l[4],d=l[5];if(!c||!o)return;a||i||(a=e.width=c,i=e.height=o),(h||d)&&t.translate(h-.5*c,d-.5*o),t.drawImage(n,l[0],l[1],c,o,0,0,a,i)}},endDraw:function(e){this.context.restore()},transform:function(e){var t=e.drawable;if(t&&t.domElement)return void a.setElementStyleByView(e);var i=this.context,r=e.scaleX,s=e.scaleY;if(e===this.stage){var n=this.canvas.style,l=e._scaleX,c=e._scaleY,o=!1;(!l&&1!=r||l&&l!=r)&&(e._scaleX=r,n.width=r*e.width+"px",o=!0),(!c&&1!=s||c&&c!=s)&&(e._scaleY=s,n.height=s*e.height+"px",o=!0),o&&e.updateViewport()}else{var h=e.x,d=e.y,v=e.pivotX,f=e.pivotY,w=e.rotation%360,g=e.mask;g&&(g._render(this),i.clip());var p=e.align;if(p)if("function"==typeof p)e.align();else{var b=e.parent;if(b){var u=e.width,x=e.height,m=b.width,k=b.height;switch(p){case"TL":h=0,d=0;break;case"T":h=m-u>>1,d=0;break;case"TR":h=m-u,d=0;break;case"L":h=0,d=k-x>>1;break;case"C":h=m-u>>1,d=k-x>>1;break;case"R":h=m-u,d=k-x>>1;break;case"BL":h=0,d=k-x;break;case"B":h=m-u>>1,d=k-x;break;case"BR":h=m-u,d=k-x}}}0==h&&0==d||i.translate(h,d),0!=w&&i.rotate(w*Math.PI/180),1==r&&1==s||i.scale(r,s),0==v&&0==f||i.translate(-v,-f)}e.alpha>0&&(i.globalAlpha*=e.alpha)},remove:function(e){var t=e.drawable,a=t&&t.domElement;if(a){var i=a.parentNode;i&&i.removeChild(a)}},clear:function(e,t,a,i){this.context.clearRect(e,t,a,i)},resize:function(e,t){var a=this.canvas,i=this.stage,r=a.style;a.width=e,a.height=t,r.width=i.width*i.scaleX+"px",r.height=i.height*i.scaleY+"px"}});e.Hilo.CanvasRenderer=r}(window);